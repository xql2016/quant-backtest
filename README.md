# ğŸ“Š é‡åŒ–å›æµ‹ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„é‡åŒ–äº¤æ˜“å›æµ‹å¹³å°ï¼Œæ”¯æŒå¤šç§å¸‚åœºã€å¤šç§ç­–ç•¥ã€å¤šç§æ—¶é—´å‘¨æœŸçš„å›æµ‹åˆ†æã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨åº”ç”¨
```bash
python -m streamlit run run_main.py
```

### 3. è®¿é—®åº”ç”¨
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼šhttp://localhost:8501

## ğŸ“ é¡¹ç›®ç»“æ„

```
quant-backtest/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ run_main.py              # Streamlit ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ data_source.py           # æ•°æ®æºæ¨¡å—ï¼ˆAKShare, YFinance, Tushareï¼‰
â”‚   â”œâ”€â”€ cache_manager.py         # æ•°æ®ç¼“å­˜ç®¡ç†å™¨ ğŸ†•
â”‚   â”œâ”€â”€ cached_data_source.py    # ç¼“å­˜è£…é¥°å™¨ ğŸ†•
â”‚   â”œâ”€â”€ strategy_backtest.py     # ç­–ç•¥å’Œå›æµ‹å¼•æ“
â”‚   â””â”€â”€ ssl_config.py            # SSL é…ç½®æ¨¡å—
â”‚
â”œâ”€â”€ ğŸ“‚ cache/                    # æ•°æ®ç¼“å­˜ç›®å½• ğŸ†•
â”‚   â”œâ”€â”€ README.md                # ç¼“å­˜æ¨¡å—è¯´æ˜
â”‚   â”œâ”€â”€ config.json              # ç¼“å­˜é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ data/                    # ç¼“å­˜æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ metadata/                # ç¼“å­˜ç´¢å¼•
â”‚   â””â”€â”€ logs/                    # ç¼“å­˜æ—¥å¿—
â”‚
â”œâ”€â”€ ğŸ“‚ test/                     # æµ‹è¯•å’Œè¯Šæ–­è„šæœ¬
â”‚   â”œâ”€â”€ README.md                # æµ‹è¯•è„šæœ¬è¯´æ˜
â”‚   â”œâ”€â”€ quick_test.py            # å¿«é€Ÿç³»ç»Ÿæµ‹è¯• â­
â”‚   â”œâ”€â”€ cache_tool.py            # ç¼“å­˜ç®¡ç†å·¥å…· ğŸ†•
â”‚   â”œâ”€â”€ test_cache.py            # ç¼“å­˜åŠŸèƒ½æµ‹è¯• ğŸ†•
â”‚   â”œâ”€â”€ diagnose_network.py      # ç½‘ç»œè¯Šæ–­
â”‚   â”œâ”€â”€ diagnose_akshare.py      # AKShare è¯Šæ–­
â”‚   â”œâ”€â”€ fix_ssl.py               # SSL ä¿®å¤å·¥å…·
â”‚   â”œâ”€â”€ clear_cache.py           # ç¼“å­˜æ¸…ç†å·¥å…·
â”‚   â””â”€â”€ ... (å…¶ä»–æµ‹è¯•è„šæœ¬)
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                     # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ æ•°æ®ç¼“å­˜ä½¿ç”¨æŒ‡å—.md       # æ•°æ®ç¼“å­˜åŠŸèƒ½è¯´æ˜ ğŸ†•â­
â”‚   â”œâ”€â”€ SSL_ISSUE_README.md      # SSL é—®é¢˜è¯´æ˜ â­
â”‚   â”œâ”€â”€ DATASOURCE_ISSUE_SUMMARY.md  # æ•°æ®æºé—®é¢˜æ€»ç»“ â­
â”‚   â”œâ”€â”€ YFinanceå¿«é€Ÿå‚è€ƒ.md      # YFinance ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ å¿«é€Ÿä½¿ç”¨Tushareå¯è½¬å€º.md  # å¯è½¬å€ºä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ ... (å…¶ä»–æ–‡æ¡£)
â”‚
â””â”€â”€ ğŸ“„ requirements.txt          # é¡¹ç›®ä¾èµ–
```

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ†• æ•°æ®ç¼“å­˜åŠŸèƒ½
- ğŸ’¾ **æœ¬åœ°ç¼“å­˜** - è‡ªåŠ¨ç¼“å­˜æ•°æ®åˆ°æœ¬åœ°ï¼Œå‡å°‘APIè°ƒç”¨
- âš¡ **æé€Ÿå“åº”** - ç¼“å­˜å‘½ä¸­æ—¶é€Ÿåº¦æå‡ 30-300 å€
- ğŸ¯ **æ™ºèƒ½ç®¡ç†** - è‡ªåŠ¨è¿‡æœŸã€è‡ªåŠ¨æ¸…ç†ã€å®¹é‡é™åˆ¶
- ğŸ“Š **ç®¡ç†å·¥å…·** - å‘½ä»¤è¡Œå·¥å…·æŸ¥çœ‹å’Œç®¡ç†ç¼“å­˜

**å¿«é€Ÿä½¿ç”¨ï¼š**
```python
from cached_data_source import get_cached_stock_data
import datetime

df = get_cached_stock_data(
    code='000001',
    start_date=datetime.date(2024, 1, 1),
    end_date=datetime.date(2024, 12, 31),
    market='Aè‚¡',
    source_type='akshare'
)
# ç¬¬ä¸€æ¬¡ï¼šä»APIè·å–ï¼ˆ3-10ç§’ï¼‰
# ç¬¬äºŒæ¬¡ï¼šä»ç¼“å­˜è¯»å–ï¼ˆ<0.1ç§’ï¼‰âœ¨
```

ğŸ“– è¯¦ç»†æ–‡æ¡£ï¼š[æ•°æ®ç¼“å­˜ä½¿ç”¨æŒ‡å—](docs/æ•°æ®ç¼“å­˜ä½¿ç”¨æŒ‡å—.md)

### æ”¯æŒçš„æ•°æ®æº
- ğŸ‡¨ğŸ‡³ **Tushare** - Aè‚¡ã€å¯è½¬å€ºï¼ˆæ¨èï¼Œæœ€ç¨³å®šï¼‰
- ğŸ‡¨ğŸ‡³ **AKShare** - Aè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡
- ğŸŒ **YFinance** - ç¾è‚¡ã€æ¸¯è‚¡ã€åŠ å¯†è´§å¸

### æ”¯æŒçš„å¸‚åœº
- Aè‚¡ï¼ˆæ—¥çº¿ï¼‰
- æ¸¯è‚¡ï¼ˆæ—¥çº¿ï¼‰
- ç¾è‚¡ï¼ˆæ—¥çº¿ï¼‰
- å¯è½¬å€ºï¼ˆæ—¥çº¿ï¼‰
- åŠ å¯†è´§å¸ï¼ˆæ—¥çº¿ã€4å°æ—¶çº¿ã€1å°æ—¶çº¿ï¼‰

### å†…ç½®ç­–ç•¥
- MACD è¶‹åŠ¿ç­–ç•¥
- åŒå‡çº¿ç­–ç•¥ (SMA)
- RSI è¶…ä¹°è¶…å–
- å¸ƒæ—å¸¦çªç ´
- æ³¢æ®µç­–ç•¥
- å¤šé‡åº•å…¥åœºç­–ç•¥

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šAè‚¡å›æµ‹ï¼ˆTushareï¼‰
```
æ•°æ®æºï¼šTushare (Aè‚¡/å¯è½¬å€º)
å¸‚åœºï¼šAè‚¡
ä»£ç ï¼š000001ï¼ˆå¹³å®‰é“¶è¡Œï¼‰æˆ– 600519ï¼ˆè´µå·èŒ…å°ï¼‰
æ—¥æœŸï¼š2024-01-01 è‡³ 2024-12-31
ç­–ç•¥ï¼šåŒå‡çº¿ç­–ç•¥
```

### ç¤ºä¾‹ 2ï¼šåŠ å¯†è´§å¸ 4å°æ—¶çº¿å›æµ‹
```
æ•°æ®æºï¼šYFinance (å…¨çƒå¸‚åœº/åŠ å¯†è´§å¸)
å¸‚åœºï¼šåŠ å¯†è´§å¸
ä»£ç ï¼šBTC-USDï¼ˆæ¯”ç‰¹å¸ï¼‰
æ—¶é—´ç²’åº¦ï¼š4å°æ—¶çº¿
æ—¥æœŸï¼š2024-01-01 è‡³ 2024-12-31
ç­–ç•¥ï¼šMACD è¶‹åŠ¿ç­–ç•¥
```

### ç¤ºä¾‹ 3ï¼šå¯è½¬å€ºå›æµ‹
```
æ•°æ®æºï¼šTushare (Aè‚¡/å¯è½¬å€º)
å¸‚åœºï¼šå¯è½¬å€º
ä»£ç ï¼š127035 æˆ– 113050
æ—¥æœŸï¼š2024-01-01 è‡³ 2024-12-31
ç­–ç•¥ï¼šRSI è¶…ä¹°è¶…å–
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: æ•°æ®è·å–å¤±è´¥ï¼Ÿ
æŸ¥çœ‹ [docs/DATASOURCE_ISSUE_SUMMARY.md](docs/DATASOURCE_ISSUE_SUMMARY.md)

### Q: SSL è¯ä¹¦é”™è¯¯ï¼Ÿ
æŸ¥çœ‹ [docs/SSL_ISSUE_README.md](docs/SSL_ISSUE_README.md)

### Q: å¦‚ä½•éªŒè¯ç³»ç»Ÿæ­£å¸¸ï¼Ÿ
```bash
python test/quick_test.py
```

### Q: å“ªä¸ªæ•°æ®æºæœ€ç¨³å®šï¼Ÿ
**æ¨èä½¿ç”¨ Tushare**ï¼Œæ•°æ®è´¨é‡é«˜ä¸”ç¨³å®šå¯é ã€‚

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [æµ‹è¯•è„šæœ¬è¯´æ˜](test/README.md)
- [æ–‡æ¡£ç›®å½•](docs/README.md)
- [SSL é—®é¢˜è¯´æ˜](docs/SSL_ISSUE_README.md)
- [æ•°æ®æºé—®é¢˜æ€»ç»“](docs/DATASOURCE_ISSUE_SUMMARY.md)

## ğŸ› ï¸ å¿«é€Ÿè¯Šæ–­å·¥å…·

### éªŒè¯ç³»ç»Ÿ
```bash
python test/quick_test.py
```

### è¯Šæ–­ç½‘ç»œé—®é¢˜
```bash
python test/diagnose_network.py
```

### æ¸…ç†ç¼“å­˜
```bash
python test/clear_cache.py
```

## ğŸ’¡ ä½¿ç”¨å»ºè®®

1. **æ–°æ‰‹å…¥é—¨**
   - ä½¿ç”¨ Tushare æ•°æ®æº
   - é€‰æ‹© Aè‚¡ å¸‚åœº
   - ä»åŒå‡çº¿ç­–ç•¥å¼€å§‹
   - ä½¿ç”¨è¾ƒçŸ­çš„å›æµ‹åŒºé—´ï¼ˆå¦‚ 1 ä¸ªæœˆï¼‰

2. **è¿›é˜¶ä½¿ç”¨**
   - å°è¯•ä¸åŒç­–ç•¥å‚æ•°
   - å¯¹æ¯”ä¸åŒå¸‚åœºè¡¨ç°
   - ä½¿ç”¨å°æ—¶çº¿æ•°æ®ï¼ˆåŠ å¯†è´§å¸ï¼‰
   - æµ‹è¯•å¯è½¬å€ºç­–ç•¥

3. **é—®é¢˜æ’æŸ¥**
   - å…ˆè¿è¡Œ `python test/quick_test.py`
   - æŸ¥çœ‹å¯¹åº”çš„æ–‡æ¡£è¯´æ˜
   - è¿è¡Œè¯Šæ–­å·¥å…·
   - æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„è¯¦ç»†é”™è¯¯

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

- âœ… **å¤šæ•°æ®æº**ï¼šæ”¯æŒ 3 ç§ä¸»æµæ•°æ®æº
- âœ… **å¤šå¸‚åœº**ï¼šAè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡ã€å¯è½¬å€ºã€åŠ å¯†è´§å¸
- âœ… **å¤šå‘¨æœŸ**ï¼šæ—¥çº¿ã€4å°æ—¶çº¿ã€1å°æ—¶çº¿
- âœ… **çµæ´»ç­–ç•¥**ï¼š6 ç§å†…ç½®ç­–ç•¥ï¼Œå‚æ•°å¯è°ƒ
- âœ… **å®Œå–„æ–‡æ¡£**ï¼šè¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œé—®é¢˜è¯Šæ–­
- âœ… **å¯è§†åŒ–**ï¼šç›´è§‚çš„å›¾è¡¨å±•ç¤ºå’Œäº¤æ˜“æ—¥å¿—

## ğŸ”— ç›¸å…³é“¾æ¥

- [Streamlit å®˜ç½‘](https://streamlit.io/)
- [AKShare æ–‡æ¡£](https://akshare.akfamily.xyz/)
- [YFinance æ–‡æ¡£](https://pypi.org/project/yfinance/)
- [Tushare å®˜ç½‘](https://tushare.pro/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

**ç‰ˆæœ¬ï¼š** 1.0.0  
**æœ€åæ›´æ–°ï¼š** 2026-02-08  
**çŠ¶æ€ï¼š** âœ… ç”Ÿäº§å°±ç»ª
